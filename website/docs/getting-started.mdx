---
sidebar_position: 2
title: Getting Started
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

## Installation

Install using npm, yarn, or pnpm:

<Tabs>
    <TabItem value="npm" label="npm">

```bash
npm i snowflake-promise
```

</TabItem>
    <TabItem value="yarn" label="yarn">

```bash
yarn add snowflake-promise
```

</TabItem>
    <TabItem value="pnpm" label="pnpm">

```bash
pnpm add snowflake-promise
```

</TabItem>
</Tabs>

This library automatically installs the official `snowflake-sdk` as a `peerDependency`.

If you require a specific version of the `snowflake-sdk`, you can install it directly and it will be used, as long as it is compatible. Supported versions are 2.1 or higher within the 2.x series (i.e., >= 2.1 and < 3.0).

## The Basics

### Create a Promisified Connection

This library's main function is `promisifyConnection` which wraps a Snowflake `Connection` to support Promises in addition to the existing callback-based methods.

First, create a connection using the official `snowflake-sdk`, then pass it to `promisifyConnection`. This returns a **PromisifiedConnection** that supports Promises for all methods that previously required callbacks.

```javascript
import snowflake from "snowflake-sdk";
import { promisifyConnection } from "snowflake-promise";

// Wrap any Snowflake connection to add Promise support
const connection = promisifyConnection(
  snowflake.createConnection({ /* your config */ })
);

// Now use async/await instead of callbacks!
await connection.connect();
const { resultsPromise } = connection.execute({ sqlText: "SELECT * FROM users" });
const results = await resultsPromise;
```

### Understanding the `execute` Method

The `execute` method returns an object with two properties, but most of the time you only need one of them:

```typescript
const { resultsPromise } = connection.execute({
  sqlText: "SELECT * FROM YOUR_TABLE",
});

const results = await resultsPromise;
console.log(results);
```

The returned object contains:
- `resultsPromise`: The Promise that resolves to your query results (this is what you want most of the time)
- `statement`: A statement object for advanced operations (you can usually ignore this)

:::tip
For more details on the `execute` method and when you might need the `statement` object, see the [API documentation](../api-reference/#execute).
:::

### Backward Compatibility

Existing callback-based code continues to work unchanged. When you pass a callback to promisified methods like `connect` or `execute`, they operate in callback mode and don't return a Promise.

### Available Methods

All connection methods that previously required callbacks are now promisified, including `connect`, `execute`, and others.

For the complete list of promisified methods, see the [API Reference](../api-reference/).
