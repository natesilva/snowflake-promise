<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-authentication-and-mfa" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Authentication and MFA | Promise Support for the Snowflake JavaScript SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://natesilva.github.io/snowflake-promise/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://natesilva.github.io/snowflake-promise/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://natesilva.github.io/snowflake-promise/docs/authentication-and-mfa/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Authentication and MFA | Promise Support for the Snowflake JavaScript SDK"><meta data-rh="true" name="description" content="Authentication is handled by the Snowflake SDK, not this library. However, users frequently ask about Snowflake&#x27;s upcoming MFA requirements and how they&#x27;ll be affected."><meta data-rh="true" property="og:description" content="Authentication is handled by the Snowflake SDK, not this library. However, users frequently ask about Snowflake&#x27;s upcoming MFA requirements and how they&#x27;ll be affected."><link data-rh="true" rel="icon" href="/snowflake-promise/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://natesilva.github.io/snowflake-promise/docs/authentication-and-mfa/"><link data-rh="true" rel="alternate" href="https://natesilva.github.io/snowflake-promise/docs/authentication-and-mfa/" hreflang="en"><link data-rh="true" rel="alternate" href="https://natesilva.github.io/snowflake-promise/docs/authentication-and-mfa/" hreflang="x-default"><link rel="stylesheet" href="/snowflake-promise/assets/css/styles.3888d2fb.css">
<script src="/snowflake-promise/assets/js/runtime~main.bd764264.js" defer="defer"></script>
<script src="/snowflake-promise/assets/js/main.5f42e07f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/snowflake-promise/img/snowglobe.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/snowflake-promise/"><div class="navbar__logo"><img src="/snowflake-promise/img/snowglobe.png" alt="Promise Helper for Snowflake SDK Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/snowflake-promise/img/snowglobe.png" alt="Promise Helper for Snowflake SDK Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Promise Helper for the Snowflake SDK</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/natesilva/snowflake-promise" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/snowflake-promise/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/snowflake-promise/docs/getting-started/">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/snowflake-promise/docs/api-reference/">API Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/snowflake-promise/docs/examples/">Examples</a><button aria-label="Expand sidebar category &#x27;Examples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/snowflake-promise/docs/comparisons/">Comparisons</a><button aria-label="Expand sidebar category &#x27;Comparisons&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/snowflake-promise/docs/authentication-and-mfa/">Authentication and MFA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/snowflake-promise/docs/implementation-details/">Implementation Details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/snowflake-promise/docs/migration-guide/">Legacy Migration Guide</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/snowflake-promise/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Authentication and MFA</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Authentication and MFA</h1></header><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Authentication is handled by the Snowflake SDK, not this library. However, users frequently ask about Snowflake&#x27;s upcoming MFA requirements and how they&#x27;ll be affected.</p><p>This document explains your authentication options.</p></div></div>
<p>Snowflake will require Multi-Factor Authentication (MFA) for <em>human users</em> by November 2025, and deprecate the use of passwords for <em>service users</em> in several phases.</p>
<p>Libraries like this one are often used in backend services, which would be considered <em>service users</em>.</p>
<p>For complete details, see Snowflake&#x27;s official guidance: <a href="https://docs.snowflake.com/en/user-guide/security-mfa-rollout" target="_blank" rel="noopener noreferrer">Planning for the deprecation of single-factor password sign-ins</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="available-options">Available options<a href="#available-options" class="hash-link" aria-label="Direct link to Available options" title="Direct link to Available options">​</a></h2>
<p>Here are the available authentication options from the <a href="https://docs.snowflake.com/en/developer-guide/node-js/nodejs-driver-authenticate" target="_blank" rel="noopener noreferrer">SDK documentation</a>:</p>
<table><thead><tr><th style="text-align:left">Authentication Method</th><th style="text-align:center">Supports Human Users?</th><th style="text-align:center">Supports Service Users?</th><th style="text-align:left">Notes</th></tr></thead><tbody><tr><td style="text-align:left"><strong>Password-based authentication</strong></td><td style="text-align:center">Yes</td><td style="text-align:center">No</td><td style="text-align:left">Once MFA is enabled, requires Duo approval on user device</td></tr><tr><td style="text-align:left"><strong>Single sign-on (SSO) through a web browser</strong></td><td style="text-align:center">Yes</td><td style="text-align:center">No</td><td style="text-align:left">User completes login using a web browser</td></tr><tr><td style="text-align:left"><strong>OAuth (Snowflake Built-in)</strong></td><td style="text-align:center">Yes</td><td style="text-align:center">No</td><td style="text-align:left">Requires browser interaction</td></tr><tr><td style="text-align:left"><strong>OAuth (External)</strong><br><small>❄️ <em>Snowflake recommended</em></small></td><td style="text-align:center">Yes</td><td style="text-align:center">Depends on provider</td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><strong>Native SSO through Okta</strong></td><td style="text-align:center">?</td><td style="text-align:center">?</td><td style="text-align:left">Not tested by us</td></tr><tr><td style="text-align:left"><strong>Key pair authentication</strong><br><small>❄️ <em>Snowflake recommended</em></small></td><td style="text-align:center">No</td><td style="text-align:center">Yes</td><td style="text-align:left"></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compatibility">Compatibility<a href="#compatibility" class="hash-link" aria-label="Direct link to Compatibility" title="Direct link to Compatibility">​</a></h2>
<p>All authentication methods listed above work with this library. Authentication is configured through options passed to <code>snowflake.createConnection</code>.</p>
<p>Methods requiring user interaction (browser SSO, Duo prompts) will pause execution during authentication, making them unsuitable for backend services.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="snowflake-recommendation">Snowflake Recommendation<a href="#snowflake-recommendation" class="hash-link" aria-label="Direct link to Snowflake Recommendation" title="Direct link to Snowflake Recommendation">​</a></h2>
<p><a href="https://www.snowflake.com/en/blog/multi-factor-identification-default/" target="_blank" rel="noopener noreferrer">Snowflake says</a>:</p>
<blockquote>
<p>For service users: We recommend using external OAuth when possible, and if not, using key pair authentication to eliminate passwords altogether for such users. We strongly advise enabling network policies when using key pair authentication and, in general, to enable network policies for all user types, not just service users.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations">Recommendations<a href="#recommendations" class="hash-link" aria-label="Direct link to Recommendations" title="Direct link to Recommendations">​</a></h2>
<p>For service users, use <strong>External OAuth</strong> or <strong>Key Pair Authentication</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-oauth">External OAuth<a href="#external-oauth" class="hash-link" aria-label="Direct link to External OAuth" title="Direct link to External OAuth">​</a></h3>
<p>Following Snowflake’s guidance, <strong>External OAuth</strong> is a recommended authentication method for service users. Documentation for Snowflake’s External OAuth implementation can be found here:</p>
<ul>
<li><a href="https://docs.snowflake.com/en/user-guide/oauth-ext-overview" target="_blank" rel="noopener noreferrer">Snowflake External OAuth overview</a></li>
<li><a href="https://docs.snowflake.com/en/developer-guide/node-js/nodejs-driver-authenticate#label-nodejs-oauth" target="_blank" rel="noopener noreferrer">External OAuth in the Node.js Snowflake SDK</a></li>
</ul>
<p>OAuth requires complex initial configuration typically handled by your IT department. Most developers cannot implement OAuth authentication independently.</p>
<p>If your company already uses an external identity provider (IdP), it can likely be configured to work with Snowflake&#x27;s External OAuth.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-pair-authentication">Key Pair Authentication<a href="#key-pair-authentication" class="hash-link" aria-label="Direct link to Key Pair Authentication" title="Direct link to Key Pair Authentication">​</a></h3>
<p>The other recommended authentication method is <strong>key pair authentication</strong>. Documentation can be found here:</p>
<ul>
<li><a href="https://docs.snowflake.com/en/user-guide/key-pair-auth" target="_blank" rel="noopener noreferrer">Key-pair authentication and key-pair rotation</a></li>
<li><a href="https://docs.snowflake.com/en/developer-guide/node-js/nodejs-driver-authenticate#label-nodejs-key-pair-authentication" target="_blank" rel="noopener noreferrer">Key pair authentication in the Node.js Snowflake SDK</a></li>
</ul>
<p>This method requires generating key pairs and adding the public key to your Snowflake user. Developers can often complete this setup independently.</p>
<p><strong>Important</strong>: Store private keys securely using services like AWS Secrets Manager or Azure Key Vault.</p>
<p>Snowflake provides the ability to rotate keys without downtime, which is a valuable feature. See the <a href="https://docs.snowflake.com/en/user-guide/key-pair-auth#configuring-key-pair-rotation" target="_blank" rel="noopener noreferrer">Configuring Key Pair Rotation</a> section in the documentation.</p>
<p>For an example implementation, see our <a href="/snowflake-promise/docs/examples/connecting/example-2-connecting-to-snowflake/">Key Pair Authentication example code</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/snowflake-promise/docs/comparisons/comparison-4-streaming/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Streaming Results</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/snowflake-promise/docs/implementation-details/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Implementation Details</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#available-options" class="table-of-contents__link toc-highlight">Available options</a></li><li><a href="#compatibility" class="table-of-contents__link toc-highlight">Compatibility</a></li><li><a href="#snowflake-recommendation" class="table-of-contents__link toc-highlight">Snowflake Recommendation</a></li><li><a href="#recommendations" class="table-of-contents__link toc-highlight">Recommendations</a><ul><li><a href="#external-oauth" class="table-of-contents__link toc-highlight">External OAuth</a></li><li><a href="#key-pair-authentication" class="table-of-contents__link toc-highlight">Key Pair Authentication</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Nate Silva. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>