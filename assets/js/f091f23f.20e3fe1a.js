"use strict";(self.webpackChunksnowflake_promise_website=self.webpackChunksnowflake_promise_website||[]).push([[3424],{2403:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"authentication-and-mfa","title":"Authentication and MFA","description":"Authentication is handled by the Snowflake SDK, not this library. However, users frequently ask about Snowflake\'s upcoming MFA requirements and how they\'ll be affected.","source":"@site/docs/authentication-and-mfa.mdx","sourceDirName":".","slug":"/authentication-and-mfa","permalink":"/snowflake-promise/docs/authentication-and-mfa","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Authentication and MFA"},"sidebar":"tutorialSidebar","previous":{"title":"Streaming Results","permalink":"/snowflake-promise/docs/comparisons/comparison-4-streaming"},"next":{"title":"Implementation Details","permalink":"/snowflake-promise/docs/implementation-details"}}');var s=n(4848),r=n(8453);const o={sidebar_position:6,title:"Authentication and MFA"},l=void 0,a={},d=[{value:"Available options",id:"available-options",level:2},{value:"Compatibility",id:"compatibility",level:2},{value:"Snowflake Recommendation",id:"snowflake-recommendation",level:2},{value:"Recommendations",id:"recommendations",level:2},{value:"External OAuth",id:"external-oauth",level:3},{value:"Key Pair Authentication",id:"key-pair-authentication",level:3}];function c(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.admonition,{type:"info",children:[(0,s.jsx)(t.p,{children:"Authentication is handled by the Snowflake SDK, not this library. However, users frequently ask about Snowflake's upcoming MFA requirements and how they'll be affected."}),(0,s.jsx)(t.p,{children:"This document explains your authentication options."})]}),"\n",(0,s.jsxs)(t.p,{children:["Snowflake will require Multi-Factor Authentication (MFA) for ",(0,s.jsx)(t.em,{children:"human users"})," by November 2025, and deprecate the use of passwords for ",(0,s.jsx)(t.em,{children:"service users"})," in several phases."]}),"\n",(0,s.jsxs)(t.p,{children:["Libraries like this one are often used in backend services, which would be considered ",(0,s.jsx)(t.em,{children:"service users"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["For complete details, see Snowflake's official guidance: ",(0,s.jsx)(t.a,{href:"https://docs.snowflake.com/en/user-guide/security-mfa-rollout",children:"Planning for the deprecation of single-factor password sign-ins"})]}),"\n",(0,s.jsx)(t.h2,{id:"available-options",children:"Available options"}),"\n",(0,s.jsxs)(t.p,{children:["Here are the available authentication options from the ",(0,s.jsx)(t.a,{href:"https://docs.snowflake.com/en/developer-guide/node-js/nodejs-driver-authenticate",children:"SDK documentation"}),":"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Authentication Method"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Supports Human Users?"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Supports Service Users?"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Notes"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Password-based authentication"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Once MFA is enabled, requires Duo approval on user device"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Single sign-on (SSO) through a web browser"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"User completes login using a web browser"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"OAuth (Snowflake Built-in)"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Requires browser interaction"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"OAuth (External)"}),(0,s.jsx)("br",{}),(0,s.jsxs)("small",{children:["\u2744\ufe0f ",(0,s.jsx)(t.em,{children:"Snowflake recommended"})]})]}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Depends on provider"}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Native SSO through Okta"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"?"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"?"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Not tested by us"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Key pair authentication"}),(0,s.jsx)("br",{}),(0,s.jsxs)("small",{children:["\u2744\ufe0f ",(0,s.jsx)(t.em,{children:"Snowflake recommended"})]})]}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"compatibility",children:"Compatibility"}),"\n",(0,s.jsxs)(t.p,{children:["All authentication methods listed above work with this library. Authentication is configured through options passed to ",(0,s.jsx)(t.code,{children:"snowflake.createConnection"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Methods requiring user interaction (browser SSO, Duo prompts) will pause execution during authentication, making them unsuitable for backend services."}),"\n",(0,s.jsx)(t.h2,{id:"snowflake-recommendation",children:"Snowflake Recommendation"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://www.snowflake.com/en/blog/multi-factor-identification-default/",children:"Snowflake says"}),":"]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:"For service users: We recommend using external OAuth when possible, and if not, using key pair authentication to eliminate passwords altogether for such users. We strongly advise enabling network policies when using key pair authentication and, in general, to enable network policies for all user types, not just service users."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"recommendations",children:"Recommendations"}),"\n",(0,s.jsxs)(t.p,{children:["For service users, use ",(0,s.jsx)(t.strong,{children:"External OAuth"})," or ",(0,s.jsx)(t.strong,{children:"Key Pair Authentication"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"external-oauth",children:"External OAuth"}),"\n",(0,s.jsxs)(t.p,{children:["Following Snowflake\u2019s guidance, ",(0,s.jsx)(t.strong,{children:"External OAuth"})," is a recommended authentication method for service users. Documentation for Snowflake\u2019s External OAuth implementation can be found here:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.snowflake.com/en/user-guide/oauth-ext-overview",children:"Snowflake External OAuth overview"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.snowflake.com/en/developer-guide/node-js/nodejs-driver-authenticate#label-nodejs-oauth",children:"External OAuth in the Node.js Snowflake SDK"})}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"OAuth requires complex initial configuration typically handled by your IT department. Most developers cannot implement OAuth authentication independently."}),"\n",(0,s.jsx)(t.p,{children:"If your company already uses an external identity provider (IdP), it can likely be configured to work with Snowflake's External OAuth."}),"\n",(0,s.jsx)(t.h3,{id:"key-pair-authentication",children:"Key Pair Authentication"}),"\n",(0,s.jsxs)(t.p,{children:["The other recommended authentication method is ",(0,s.jsx)(t.strong,{children:"key pair authentication"}),". Documentation can be found here:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.snowflake.com/en/user-guide/key-pair-auth",children:"Key-pair authentication and key-pair rotation"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.snowflake.com/en/developer-guide/node-js/nodejs-driver-authenticate#label-nodejs-key-pair-authentication",children:"Key pair authentication in the Node.js Snowflake SDK"})}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"This method requires generating key pairs and adding the public key to your Snowflake user. Developers can often complete this setup independently."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Important"}),": Store private keys securely using services like AWS Secrets Manager or Azure Key Vault."]}),"\n",(0,s.jsxs)(t.p,{children:["Snowflake provides the ability to rotate keys without downtime, which is a valuable feature. See the ",(0,s.jsx)(t.a,{href:"https://docs.snowflake.com/en/user-guide/key-pair-auth#configuring-key-pair-rotation",children:"Configuring Key Pair Rotation"})," section in the documentation."]}),"\n",(0,s.jsxs)(t.p,{children:["For an example implementation, see our ",(0,s.jsx)(t.a,{href:"../examples/connecting/example-2-connecting-to-snowflake",children:"Key Pair Authentication example code"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var i=n(6540);const s={},r=i.createContext(s);function o(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);