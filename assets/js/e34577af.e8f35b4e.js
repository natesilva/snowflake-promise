"use strict";(self.webpackChunksnowflake_promise_website=self.webpackChunksnowflake_promise_website||[]).push([[6697],{4183:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"examples/connecting/example-1-connecting-to-snowflake","title":"Example: Username and Password","description":"Deprecated and may stop working: Snowflake recommends using External OAuth or Key Pair Authentication.","source":"@site/docs/examples/connecting/connecting-example-1.mdx","sourceDirName":"examples/connecting","slug":"/examples/connecting/example-1-connecting-to-snowflake","permalink":"/snowflake-promise/docs/examples/connecting/example-1-connecting-to-snowflake","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"example-1-connecting-to-snowflake","title":"Example: Username and Password"},"sidebar":"tutorialSidebar","previous":{"title":"Connecting to Snowflake","permalink":"/snowflake-promise/docs/examples/connecting/"},"next":{"title":"Example: Key Pair Authentication","permalink":"/snowflake-promise/docs/examples/connecting/example-2-connecting-to-snowflake"}}');var s=o(4848),c=o(8453);const a={id:"example-1-connecting-to-snowflake",title:"Example: Username and Password"},i=void 0,r={},l=[{value:"Steps",id:"steps",level:2},{value:"Example Code: Username and Password",id:"example-code-username-and-password",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.admonition,{type:"danger",children:[(0,s.jsx)(n.p,{children:"Deprecated and may stop working: Snowflake recommends using External OAuth or Key Pair Authentication."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.snowflake.com/en/user-guide/security-mfa-rollout",children:"Planning for the deprecation of single-factor password sign-ins"})}),"\n"]}),(0,s.jsxs)(n.p,{children:["See our ",(0,s.jsx)(n.a,{href:"/docs/authentication-and-mfa",children:"Authentication and MFA"})," guidance."]})]}),"\n",(0,s.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a connection using the standard Snowflake SDK ",(0,s.jsx)(n.code,{children:"createConnection"})," method, but don\u2019t call ",(0,s.jsx)(n.code,{children:"connect"})," or ",(0,s.jsx)(n.code,{children:"connectAsync"})," yet."]}),"\n",(0,s.jsxs)(n.li,{children:["After creating the connection, pass it to the Promise Helper library\u2019s ",(0,s.jsx)(n.code,{children:"promisifyConnection"})," method."]}),"\n",(0,s.jsxs)(n.li,{children:["On the promisified connection object, await the ",(0,s.jsx)(n.code,{children:"connect"})," method."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-code-username-and-password",children:"Example Code: Username and Password"}),"\n",(0,s.jsx)(n.p,{children:"If you have Multi-Factor Authentication (MFA) enabled, this will send a confirmation request to the Duo app on your device, which you must approve to complete the connection."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { promisifyConnection } from "snowflake-promise";\nimport snowflake from "snowflake-sdk";\n\n// Create a Connection using the SDK\u2019s `createConnection` and promisify it\nconst connection = promisifyConnection(\n  snowflake.createConnection({\n    account: account,\n    username: user,\n    password: password,\n  }),\n);\n\n// Connect to Snowflake\ntry {\n  await connection.connect();\n  console.log("Successfully connected to Snowflake.");\n} catch (err) {\n  console.error("Unable to connect: " + err.message);\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>i});var t=o(6540);const s={},c=t.createContext(s);function a(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);